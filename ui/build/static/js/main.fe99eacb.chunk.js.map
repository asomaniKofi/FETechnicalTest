{"version":3,"sources":["App.tsx","index.tsx"],"names":["getStatus","startTime","endTime","now","Date","start","end","Movie","_ref","contribution","React","createElement","className","title","description","toLocaleString","owner","fetchContributions","async","axios","get","data","contributions","error","console","HomePage","setContributions","useState","filteredContributions","setFilteredContributions","searchQuery","setSearchQuery","currentPage","setCurrentPage","hasFetched","setHasFetched","useEffect","fetchData","filterContributions","query","toLowerCase","filtered","filter","some","field","includes","lastResultIndex","firstResultIndex","currentContributions","slice","type","placeholder","value","onChange","e","target","map","key","id","length","renderPagination","totalPages","Math","ceil","Array","from","_","index","onClick","pageNumber","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"gLAKA,MAAMA,EAAYA,CAACC,EAAmBC,KACpC,MAAMC,EAAM,IAAIC,KACVC,EAAQ,IAAID,KAAKH,GACjBK,EAAM,IAAIF,KAAKF,GAErB,OAAII,EAAMH,EAAY,WAClBE,GAASF,GAAOG,GAAOH,EAAY,SAChC,aAIHI,EAAkDC,IAAA,IAAC,aAAEC,GAAcD,EAAA,OACvEE,IAAAC,cAAA,OAAKC,UAAU,4CACbF,IAAAC,cAAA,MAAIC,UAAU,qBAAqBH,EAAaI,OAChDH,IAAAC,cAAA,KAAGC,UAAU,iBAAiBH,EAAaK,aAC3CJ,IAAAC,cAAA,SACED,IAAAC,cAAA,cAAQ,UAAgB,IACvB,IAAIP,KAAKK,EAAaR,WAAWc,kBAEpCL,IAAAC,cAAA,SACED,IAAAC,cAAA,cAAQ,QAAa,IAAE,IAAIP,KAAKK,EAAaP,SAASa,kBAExDL,IAAAC,cAAA,SACED,IAAAC,cAAA,cAAQ,UAAe,IAAEF,EAAaO,OAExCN,IAAAC,cAAA,SACED,IAAAC,cAAA,cAAQ,WAAiB,IACxBX,EAAUS,EAAaR,UAAWQ,EAAaP,YAMhDe,EAAqBC,UACzB,IAIE,aAHuBC,IAAMC,IAC3B,wCAEcC,KAAKC,cACrB,MAAOC,GAEP,OADAC,QAAQD,MAAM,gCAAiCA,GACxC,KA0HIE,MArHYA,KACzB,MAAOH,EAAeI,GAAoBC,mBAAyB,KAC5DC,EAAuBC,GAA4BF,mBAExD,KACKG,EAAaC,GAAkBJ,mBAAiB,KAChDK,EAAaC,GAAkBN,mBAAiB,IAChDO,EAAYC,GAAiBR,oBAAkB,GAGtDS,oBAAU,KACR,IAAKF,EAAY,CACGhB,WAChB,MAAMG,QAAaJ,IACnBS,EAAiBL,GACjBQ,EAAyBR,GACzBc,GAAc,IAEhBE,KAED,CAACH,IAEJE,oBAAU,KACHF,GACHjB,KAED,CAACiB,IAGJE,oBAAU,KACoBE,MAC1B,MAAMC,EAAQT,EAAYU,cACpBC,EAAWnB,EAAcoB,OAC5BjC,GACC,CACEA,EAAaI,MACbJ,EAAaK,YACbL,EAAaO,OACb2B,KAAMC,GAAUA,EAAMJ,cAAcK,SAASN,KAC/CvC,EAAUS,EAAaR,UAAWQ,EAAaP,SAC5CsC,cACAK,SAASN,IAEhBV,EAAyBY,GACzBR,EAAe,IAGjBK,IACC,CAACR,EAAaR,IAGjB,MAAMwB,EA3CuB,GA2CLd,EAClBe,EAAmBD,EA5CI,GA6CvBE,EAAuBpB,EAAsBqB,MACjDF,EACAD,GAqCF,OACEpC,IAAAC,cAAA,OAAKC,UAAU,yBAEbF,IAAAC,cAAA,SACEuC,KAAK,OACLC,YAAY,oDACZvC,UAAU,oCACVwC,MAAOtB,EACPuB,SAAWC,GAAMvB,EAAeuB,EAAEC,OAAOH,SAI3C1C,IAAAC,cAAA,OAAKC,UAAU,wDACZoC,EAAqBQ,IAAK/C,GACzBC,IAAAC,cAACJ,EAAK,CAACkD,IAAKhD,EAAaiD,GAAIjD,aAAcA,MAK9CmB,EAAsB+B,OAvGE,IA6DJC,MACvB,MAAMC,EAAaC,KAAKC,KACtBnC,EAAsB+B,OA/DG,IAiE3B,OACEjD,IAAAC,cAAA,OAAKC,UAAU,sCACZoD,MAAMC,KAAK,CAAEN,OAAQE,IAAcL,IAAI,CAACU,EAAGC,IAC1CzD,IAAAC,cAAA,UACE8C,IAAKU,EACLvD,UAAW,sBACToB,IAAgBmC,EAAQ,EACpB,yBACA,eAENC,QAASA,KAxBDC,SAwBgBF,EAAQ,GAtBzB,GACbE,GACEP,KAAKC,KAAKnC,EAAsB+B,OAvDT,KAyDzB1B,EAAeoC,KAoBRF,EAAQ,MA2BbP,KC/JKU,IAASC,WACpBC,SAASC,eAAe,SAErBC,OACHhE,IAAAC,cAACD,IAAMiE,WAAU,KACfjE,IAAAC,cAACc,EAAQ,U","file":"static/js/main.fe99eacb.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Contribution, ContributionResponse } from \"./Contributions\";\r\n\r\n// Utility function to calculate contribution status\r\nconst getStatus = (startTime: string, endTime: string): string => {\r\n  const now = new Date();\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n\r\n  if (end < now) return \"Complete\";\r\n  if (start <= now && end >= now) return \"Active\";\r\n  return \"Scheduled\";\r\n};\r\n\r\n// Contribution Card Component\r\nconst Movie: React.FC<{ contribution: Contribution }> = ({ contribution }) => (\r\n  <div className=\"border p-4 rounded-lg shadow-md bg-white\">\r\n    <h2 className=\"text-xl font-bold\">{contribution.title}</h2>\r\n    <p className=\"text-gray-600\">{contribution.description}</p>\r\n    <p>\r\n      <strong>Start:</strong>{\" \"}\r\n      {new Date(contribution.startTime).toLocaleString()}\r\n    </p>\r\n    <p>\r\n      <strong>End:</strong> {new Date(contribution.endTime).toLocaleString()}\r\n    </p>\r\n    <p>\r\n      <strong>Owner:</strong> {contribution.owner}\r\n    </p>\r\n    <p>\r\n      <strong>Status:</strong>{\" \"}\r\n      {getStatus(contribution.startTime, contribution.endTime)}\r\n    </p>\r\n  </div>\r\n);\r\n\r\n// Fetch Contributions from Python Server\r\nconst fetchContributions = async (): Promise<Contribution[]> => {\r\n  try {\r\n    const response = await axios.get<ContributionResponse>(\r\n      \"http://127.0.0.1:8000/contributions\"\r\n    );\r\n    return response.data.contributions;\r\n  } catch (error) {\r\n    console.error(\"Error fetching contributions:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// HomePage Component\r\nconst HomePage: React.FC = () => {\r\n  const [contributions, setContributions] = useState<Contribution[]>([]);\r\n  const [filteredContributions, setFilteredContributions] = useState<\r\n    Contribution[]\r\n  >([]);\r\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const [hasFetched, setHasFetched] = useState<boolean>(false);\r\n  const contributionsPerPage = 14;\r\n\r\n  useEffect(() => {\r\n    if (!hasFetched) {\r\n      const fetchData = async () => {\r\n        const data = await fetchContributions();\r\n        setContributions(data);\r\n        setFilteredContributions(data);\r\n        setHasFetched(true);\r\n      };\r\n      fetchData();\r\n    }\r\n  }, [hasFetched]);\r\n\r\n  useEffect(() => {\r\n    if (!hasFetched) {\r\n      fetchContributions();\r\n    }\r\n  }, [hasFetched]);\r\n\r\n  // Handle Search Query Change\r\n  useEffect(() => {\r\n    const filterContributions = () => {\r\n      const query = searchQuery.toLowerCase();\r\n      const filtered = contributions.filter(\r\n        (contribution) =>\r\n          [\r\n            contribution.title,\r\n            contribution.description,\r\n            contribution.owner,\r\n          ].some((field) => field.toLowerCase().includes(query)) ||\r\n          getStatus(contribution.startTime, contribution.endTime)\r\n            .toLowerCase()\r\n            .includes(query)\r\n      );\r\n      setFilteredContributions(filtered);\r\n      setCurrentPage(1); // Reset to first page when searching\r\n    };\r\n\r\n    filterContributions();\r\n  }, [searchQuery, contributions]);\r\n\r\n  // Pagination Logic\r\n  const lastResultIndex = currentPage * contributionsPerPage;\r\n  const firstResultIndex = lastResultIndex - contributionsPerPage;\r\n  const currentContributions = filteredContributions.slice(\r\n    firstResultIndex,\r\n    lastResultIndex\r\n  );\r\n\r\n  // Handle Page Change\r\n  const paginate = (pageNumber: number) => {\r\n    if (\r\n      pageNumber > 0 &&\r\n      pageNumber <=\r\n        Math.ceil(filteredContributions.length / contributionsPerPage)\r\n    ) {\r\n      setCurrentPage(pageNumber);\r\n    }\r\n  };\r\n\r\n  const renderPagination = () => {\r\n    const totalPages = Math.ceil(\r\n      filteredContributions.length / contributionsPerPage\r\n    );\r\n    return (\r\n      <div className=\"flex justify-center mt-4 space-x-2\">\r\n        {Array.from({ length: totalPages }).map((_, index) => (\r\n          <button\r\n            key={index}\r\n            className={`px-4 py-2 rounded ${\r\n              currentPage === index + 1\r\n                ? \"bg-blue-500 text-white\"\r\n                : \"bg-gray-200\"\r\n            }`}\r\n            onClick={() => paginate(index + 1)}\r\n          >\r\n            {index + 1}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4\">\r\n      {/* Search Bar */}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search by title, description, owner, or status...\"\r\n        className=\"w-full p-2 border rounded-md mb-4\"\r\n        value={searchQuery}\r\n        onChange={(e) => setSearchQuery(e.target.value)}\r\n      />\r\n\r\n      {/* Responsive Contributions Grid */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {currentContributions.map((contribution) => (\r\n          <Movie key={contribution.id} contribution={contribution} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      {filteredContributions.length > contributionsPerPage &&\r\n        renderPagination()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport HomePage from \"./App\";\r\n\r\nconst root = ReactDOM.createRoot(\r\n  document.getElementById(\"root\") as HTMLElement\r\n);\r\nroot.render(\r\n  <React.StrictMode>\r\n    <HomePage />\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}